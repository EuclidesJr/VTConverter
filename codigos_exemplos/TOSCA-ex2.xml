<?xml version="1.0" encoding="UTF-8"?>
<Definitions id="MinhaDefinicao" name="MinhaDefinicao"
	targetNamespace="http://www.vxdlforum.org/vxdl">
	
	<Types>
		<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">
			<!--Properties of Service Template-->
			<xs:element name="MyServiceTemplateProperties">
				<xs:complexType>
					<xs:sequence>
						<xs:element name="startDate" type="xs:dateTime" maxOccurs="1"
								minOccurs="0"></xs:element>
						<xs:element name="totalTime" type="xs:duration" maxOccurs="1"
							minOccurs="0"></xs:element>
						<xs:element name="owner" type="xs:string" minOccurs="0"
							maxOccurs="1"></xs:element>
						<xs:element name="user" type="xs:string" minOccurs="0"
							maxOccurs="unbounded"></xs:element>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
			
			<!-- Node Template Properties -->
			<xs:element name="MyNodeTemplateProperties">
				<xs:complexType>
					<xs:sequence>
						<xs:element name="memory" type="capacity" minOccurs="0"
							maxOccurs="1"></xs:element>
						<xs:element name="storage" type="capacity" minOccurs="0"
							maxOccurs="1"></xs:element>
						<xs:element name="cpu" type="cpu" minOccurs="0"
							maxOccurs="1"></xs:element>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
			
			<!-- Relationship Template definition -->
			<xs:complexType name="MyRelationshipTemplateProperties">
				<xs:sequence>
					<xs:group ref="vResource"></xs:group>
					<xs:element name="source" type="xs:string" minOccurs="1"
						maxOccurs="1"></xs:element>
					<xs:element name="destination" type="xs:string" minOccurs="1"
						maxOccurs="1"></xs:element>
					<xs:element name="bandwidth" type="bandwidth"
						minOccurs="0" maxOccurs="1"></xs:element>
					<xs:element name="latency" type="capacity" minOccurs="0"
						maxOccurs="1"></xs:element>
				</xs:sequence>
			</xs:complexType>
			
			<!-- Bandwidth definition -->
			<xs:complexType name="bandwidth">
				<xs:sequence>
					<xs:element name="forward" type="capacity" minOccurs="0"
						maxOccurs="1"></xs:element>
					<xs:element name="reverse" type="capacity" minOccurs="0"
						maxOccurs="1"></xs:element>
				</xs:sequence>
			</xs:complexType>
			
			<!-- CPU definition -->
			<xs:complexType name="cpu">
				<xs:sequence>
					<xs:element name="architecture" type="xs:string"
						minOccurs="0" maxOccurs="1"></xs:element>
					<xs:element name="cores" type="capacity" minOccurs="0"
						maxOccurs="1"></xs:element>
					<xs:element name="frequency" type="capacity"
						minOccurs="0" maxOccurs="1"></xs:element>
				</xs:sequence>
			</xs:complexType>

			<!-- Capacity definition -->
			<xs:complexType name="capacity">
				<xs:sequence>
					<xs:element name="unit" type="xs:string" minOccurs="0"
						maxOccurs="1"></xs:element>
					<xs:element name="event" type="xs:string" minOccurs="0"
						maxOccurs="1"></xs:element>
					<xs:choice>
						<xs:element name="interval" type="interval"
							minOccurs="1" maxOccurs="1" />
						<xs:element name="simple" type="xs:double" minOccurs="1"
							maxOccurs="1" />
						<xs:element name="set" type="xs:double" minOccurs="1"
							maxOccurs="unbounded" />
						<xs:element name="scale" type="scale" minOccurs="1"
							maxOccurs="1" />
					</xs:choice>
				</xs:sequence>
			</xs:complexType>

			<!-- Interval of values -->
			<xs:complexType name="interval">
				<xs:sequence>
					<xs:element name="min" type="xs:double" minOccurs="0"
						maxOccurs="1"></xs:element>
					<xs:element name="max" type="xs:double" minOccurs="0"
						maxOccurs="1"></xs:element>
				</xs:sequence>
			</xs:complexType>
			
			<!-- Scale of values -->
			<xs:complexType name="scale">
				<xs:sequence>
					<xs:element name="min" type="xs:double" minOccurs="1"
						maxOccurs="1"></xs:element>
					<xs:element name="max" type="xs:double" minOccurs="1"
						maxOccurs="1"></xs:element>
					<xs:element name="step" type="xs:double" minOccurs="1"
						maxOccurs="1"></xs:element>
				</xs:sequence>
			</xs:complexType>
		
		</xs:schema>
	</Types>
	
	<ServiceTemplate id="test">
		<Properties>
			<MyServiceTemplateProperties>
				<startDate>2010-04-21T08:00:00</startDate>
				<totalTime>PT4H</totalTime>
				<owner>0C7F0E6F-5599-4DF4-B1FC-AE48E61FDD67</owner>
				<user>userLyon</user>
			</MyServiceTemplateProperties>
		</Properties>
		<TopologyTemplate>
			<NodeTemplate id="node test" type="NodeTestType">
				<Properties>
					<MyNodeTemplateProperties>
						<memory>
							<unit>GB</unit>
							<simple>1</simple>
						</memory>
						<storage>
							<unit>GB</unit>
							<interval>
								<min>300</min>
							</interval>
						</storage>
						<cpu>
							<cores>
								<simple>1</simple>
							</cores>
							<frequency>
								<unit>GHz</unit>
								<interval>
									<min>2.0</min>
								</interval>
							</frequency>
						</cpu>
					</MyNodeTemplateProperties>	
				</Properties>
			</NodeTemplate>
			
			<NodeTemplate id="node test 2" type="NodeTestType">
				<Properties>
					<MyNodeTemplateProperties>
						<memory>
							<unit>GB</unit>
							<simple>1</simple>
						</memory>
						<cpu>
							<cores>
								<simple>1</simple>
							</cores>
							<frequency>
								<unit>GHz</unit>
								<interval>
									<min>2.0</min>
								</interval>
							</frequency>
						</cpu>
					</MyNodeTemplateProperties>	
				</Properties>
			</NodeTemplate>
			
			<RelationshipTemplate id="link test" type="link">
				<Properties>
					<MyRelationshipTemplateProperties>
						<bandwidth>
							<forward>
								<unit>Mbps</unit>
								<interval>
									<min>10.0</min>
								</interval>
							</forward>
						</bandwidth>
						<latency>
							<unit>ms</unit>
							<interval>
								<max>10.0</max>
							</interval>
						</latency>
					</MyRelationshipTemplateProperties>
				</Properties>
				<SourceElement ref="node test"/>
				<TargetElement ref="node test 2"/>
			</RelationshipTemplate>
		</TopologyTemplate>
	</ServiceTemplate>
	
	<NodeType name="NodeTestType">
		<PropertiesDefinition element="MyNodeTemplateProperties"/>
	</NodeType>
	
	<RelationshipType name="link">
		<PropertiesDefinition element="MyRelationshipTemplateProperties"/>
	</RelationshipType>
</Definitions>